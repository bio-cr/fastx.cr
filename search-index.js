crystal_doc_search_index_callback({"repository_name":"fastx","body":"# Fastx.cr\n\n[![test](https://github.com/kojix2/fastx.cr/actions/workflows/ci.yml/badge.svg)](https://github.com/kojix2/fastx.cr/actions/workflows/ci.yml)\n[![Docs Latest](https://img.shields.io/badge/docs-latest-blue.svg)](https://kojix2.github.io/fastx.cr/)\n\nI hope that in the future this library will be able to read and write FASTA and FASTQ, but currently it can only read FASTA.\n\n**NOTE:** Currently the standard Crystal library does not open bgzip well; it can only handle gzip files.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     fastx:\n       github: kojix2/fastx.cr\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\n# Create a Reader instance for your FASTA file\nreader = Fastx::Fasta::Reader.new(\"path_to_your_file.fa\")\n\n# Go through each sequence in the file\nreader.each do |name, sequence|\n  puts \"Name: #{name}\"\n  puts \"Sequence: #{sequence.to_s}\"\nend\n\n# Always remember to close the reader\nreader.close\n```\n\nHigh-level API\n\n```crystal\nFastx.open(\"path_to_your_file.fa\") do |reader|\n  reader.as(Fastx::Fasta::Reader) # Necessary in the current situation \n        .each do |name, sequence|\n    puts \"Name: #{name}\"\n    puts \"Sequence: #{sequence.to_s}\"\n  end\nend\n```\n\n## Development\n\nThis library is in development.\n\n## Contributing\n\n1. Fork it (<https://github.com/kojix2/fastx/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n","program":{"html_id":"fastx/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"fastx","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"fastx/Fastx","path":"Fastx.html","kind":"module","full_name":"Fastx","name":"Fastx","abstract":false,"locations":[{"filename":"src/fastx.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L5"},{"filename":"src/fastx/exceptions.cr","line_number":1,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L1"},{"filename":"src/fastx/fasta.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta.cr#L4"},{"filename":"src/fastx/fasta/reader.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L4"},{"filename":"src/fastx/fasta/writer.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L4"},{"filename":"src/fastx/fastq.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L4"},{"filename":"src/fastx/fastq/reader.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L4"},{"filename":"src/fastx/fastq/writer.cr","line_number":4,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L4"},{"filename":"src/fastx/version.cr","line_number":1,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/version.cr#L1"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/runner/work/fastx.cr/fastx.cr/src/fastx`).chomp.stringify }}"}],"class_methods":[{"html_id":"normalize_base(c:UInt8):UInt8-class-method","name":"normalize_base","abstract":false,"args":[{"name":"c","external_name":"c","restriction":"UInt8"}],"args_string":"(c : UInt8) : UInt8","args_html":"(c : UInt8) : UInt8","location":{"filename":"src/fastx.cr","line_number":45,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L45"},"def":{"name":"normalize_base","args":[{"name":"c","external_name":"c","restriction":"UInt8"}],"return_type":"UInt8","visibility":"Public","body":"case c\nwhen 65_u8, 97_u8\n  65_u8\nwhen 67_u8, 99_u8\n  67_u8\nwhen 71_u8, 103_u8\n  71_u8\nwhen 84_u8, 116_u8\n  84_u8\nwhen 78_u8, 110_u8\n  78_u8\nelse\n  STDERR.puts(\"'#{c.chr}' is replaced with 'N'\")\n  78_u8\nend"},"external_var":false},{"html_id":"normalize_sequence(sequence:IO::Memory|String):Slice(UInt8)-class-method","name":"normalize_sequence","abstract":false,"args":[{"name":"sequence","external_name":"sequence","restriction":"IO::Memory | String"}],"args_string":"(sequence : IO::Memory | String) : Slice(UInt8)","args_html":"(sequence : IO::Memory | String) : Slice(UInt8)","location":{"filename":"src/fastx.cr","line_number":60,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L60"},"def":{"name":"normalize_sequence","args":[{"name":"sequence","external_name":"sequence","restriction":"IO::Memory | String"}],"return_type":"Slice(UInt8)","visibility":"Public","body":"sequence.to_slice.map do |c|\n  normalize_base(c)\nend"},"external_var":false},{"html_id":"normalize_sequence(sequence:IO::Memory|String,&):Slice-class-method","name":"normalize_sequence","abstract":false,"args":[{"name":"sequence","external_name":"sequence","restriction":"IO::Memory | String"}],"args_string":"(sequence : IO::Memory | String, &) : Slice","args_html":"(sequence : IO::Memory | String, &) : Slice","location":{"filename":"src/fastx.cr","line_number":68,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L68"},"def":{"name":"normalize_sequence","args":[{"name":"sequence","external_name":"sequence","restriction":"IO::Memory | String"}],"yields":1,"block_arity":1,"return_type":"Slice","visibility":"Public","body":"sequence.to_slice.map do |c|\n  yield normalize_base(c)\nend"},"external_var":false},{"html_id":"open(filename:Path|String,mode=\"r\",format=nil,&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"Path | String"},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""},{"name":"format","default_value":"nil","external_name":"format","restriction":""}],"args_string":"(filename : Path | String, mode = \"r\", format = nil, &)","args_html":"(filename : Path | String, mode = <span class=\"s\">&quot;r&quot;</span>, format = <span class=\"n\">nil</span>, &)","location":{"filename":"src/fastx.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L6"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"Path | String"},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""},{"name":"format","default_value":"nil","external_name":"format","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"case format\nwhen \"fastq\"\n  Fastq.open(filename, mode) do |f|\n    yield f\n  end\nwhen \"fasta\"\n  Fasta.open(filename, mode) do |f|\n    yield f\n  end\nelse\n  case filename.to_s\n  when /\\.fastq$/, /\\.fq$/, /\\.fastq.gz$/, /\\.fq.gz$/\n    Fastq.open(filename, mode) do |f|\n      yield f\n    end\n  when /\\.fasta$/, /\\.fa$/, /\\.fasta.gz$/, /\\.fa.gz$/\n    Fasta.open(filename, mode) do |f|\n      yield f\n    end\n  else\n    raise(ArgumentError.new(\"Unknown format: #{filename}\"))\n  end\nend"},"external_var":false},{"html_id":"open(filename:Path|String,mode=\"r\",format=nil)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"Path | String"},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""},{"name":"format","default_value":"nil","external_name":"format","restriction":""}],"args_string":"(filename : Path | String, mode = \"r\", format = nil)","args_html":"(filename : Path | String, mode = <span class=\"s\">&quot;r&quot;</span>, format = <span class=\"n\">nil</span>)","location":{"filename":"src/fastx.cr","line_number":24,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx.cr#L24"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"Path | String"},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""},{"name":"format","default_value":"nil","external_name":"format","restriction":""}],"visibility":"Public","body":"case format\nwhen \"fastq\"\n  Fastq.open(filename, mode)\nwhen \"fasta\"\n  Fasta.open(filename, mode)\nelse\n  case filename.to_s\n  when /\\.fastq$/, /\\.fq$/, /\\.fastq.gz$/, /\\.fq.gz$/\n    Fastq.open(filename, mode)\n  when /\\.fasta$/, /\\.fa$/, /\\.fasta.gz$/, /\\.fa.gz$/\n    Fasta.open(filename, mode)\n  else\n    raise(ArgumentError.new(\"Unknown format: #{filename}\"))\n  end\nend"},"external_var":false}],"types":[{"html_id":"fastx/Fastx/Fasta","path":"Fastx/Fasta.html","kind":"module","full_name":"Fastx::Fasta","name":"Fasta","abstract":false,"locations":[{"filename":"src/fastx/fasta.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta.cr#L5"},{"filename":"src/fastx/fasta/reader.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L5"},{"filename":"src/fastx/fasta/writer.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L5"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx","kind":"module","full_name":"Fastx","name":"Fastx"},"class_methods":[{"html_id":"open(filename,mode=\"r\",&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"args_string":"(filename, mode = \"r\", &)","args_html":"(filename, mode = <span class=\"s\">&quot;r&quot;</span>, &)","location":{"filename":"src/fastx/fasta.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta.cr#L6"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"case mode\nwhen \"r\"\n  Reader.open(filename) do |reader|\n    yield reader\n  end\nwhen \"w\"\n  Writer.open(filename) do |writer|\n    yield writer\n  end\nelse\n  raise(ArgumentError.new(\"Invalid mode: #{mode}\"))\nend"},"external_var":false},{"html_id":"open(filename,mode=\"r\")-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"args_string":"(filename, mode = \"r\")","args_html":"(filename, mode = <span class=\"s\">&quot;r&quot;</span>)","location":{"filename":"src/fastx/fasta.cr","line_number":17,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta.cr#L17"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"visibility":"Public","body":"case mode\nwhen \"r\"\n  Reader.new(filename)\nwhen \"w\"\n  Writer.new(filename)\nelse\n  raise(ArgumentError.new(\"Invalid mode: #{mode}\"))\nend"},"external_var":false}],"types":[{"html_id":"fastx/Fastx/Fasta/Reader","path":"Fastx/Fasta/Reader.html","kind":"class","full_name":"Fastx::Fasta::Reader","name":"Reader","abstract":false,"superclass":{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/fasta/reader.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L6"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx/Fasta","kind":"module","full_name":"Fastx::Fasta","name":"Fasta"},"class_methods":[{"html_id":"open(filename:String|Path,&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path, &)","args_html":"(filename : String | Path, &)","location":{"filename":"src/fastx/fasta/reader.cr","line_number":11,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L11"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"yields":1,"block_arity":1,"visibility":"Public","body":"begin\n  reader = self.new(filename)\n  yield reader\nensure\n  reader.try(&.close)\nend"},"external_var":false}],"constructors":[{"html_id":"new(filename:String|Path)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path)","args_html":"(filename : String | Path)","location":{"filename":"src/fastx/fasta/reader.cr","line_number":18,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L18"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"close-instance-method","name":"close","abstract":false,"location":{"filename":"src/fastx/fasta/reader.cr","line_number":53,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L53"},"def":{"name":"close","visibility":"Public","body":"@file.close"},"external_var":false},{"html_id":"closed?-instance-method","name":"closed?","abstract":false,"location":{"filename":"src/fastx/fasta/reader.cr","line_number":57,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L57"},"def":{"name":"closed?","visibility":"Public","body":"@file.closed?"},"external_var":false},{"html_id":"each(&)-instance-method","name":"each","abstract":false,"location":{"filename":"src/fastx/fasta/reader.cr","line_number":24,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/reader.cr#L24"},"def":{"name":"each","yields":2,"block_arity":2,"visibility":"Public","body":"file = @gzip ? Compress::Gzip::Reader.new(@file) : @file\nif file.nil?\n  return\nend\n\nname = nil\nsequence = IO::Memory.new\n\nfile.each_line do |line|\n  if line.starts_with?(\">\")\n    if name.nil?\n    else\n      yield name, sequence\n    end\n\n    name = line[1..-1]\n\n\n\n    sequence.clear\n  else\n    if !line.ascii_only?\n      raise(InvalidCharacterError.new(@filename, name, sequence))\n    end\n    sequence << line\n  end\nend\nif name.nil?\nelse\n  yield name, sequence\nend\n\nif file.is_a?(Compress::Gzip::Reader)\n  file.close\nend\n"},"external_var":false}]},{"html_id":"fastx/Fastx/Fasta/Writer","path":"Fastx/Fasta/Writer.html","kind":"class","full_name":"Fastx::Fasta::Writer","name":"Writer","abstract":false,"superclass":{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/fasta/writer.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L6"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx/Fasta","kind":"module","full_name":"Fastx::Fasta","name":"Fasta"},"class_methods":[{"html_id":"open(filename:String|Path,&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path, &)","args_html":"(filename : String | Path, &)","location":{"filename":"src/fastx/fasta/writer.cr","line_number":12,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L12"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"yields":1,"block_arity":1,"visibility":"Public","body":"begin\n  writer = self.new(filename)\n  yield writer\nensure\n  writer.try(&.close)\nend"},"external_var":false}],"constructors":[{"html_id":"new(filename:String|Path)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path)","args_html":"(filename : String | Path)","location":{"filename":"src/fastx/fasta/writer.cr","line_number":19,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L19"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"close-instance-method","name":"close","abstract":false,"location":{"filename":"src/fastx/fasta/writer.cr","line_number":31,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L31"},"def":{"name":"close","visibility":"Public","body":"if @writer.is_a?(Compress::Gzip::Writer)\n  @writer.close\nend\n@file.close\n"},"external_var":false},{"html_id":"closed?-instance-method","name":"closed?","abstract":false,"location":{"filename":"src/fastx/fasta/writer.cr","line_number":38,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L38"},"def":{"name":"closed?","visibility":"Public","body":"@file.closed?"},"external_var":false},{"html_id":"write(name:String,sequence:String)-instance-method","name":"write","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"sequence","external_name":"sequence","restriction":"String"}],"args_string":"(name : String, sequence : String)","args_html":"(name : String, sequence : String)","location":{"filename":"src/fastx/fasta/writer.cr","line_number":26,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fasta/writer.cr#L26"},"def":{"name":"write","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"sequence","external_name":"sequence","restriction":"String"}],"visibility":"Public","body":"@writer.puts(\">#{name}\")\n@writer.puts(sequence)\n"},"external_var":false}]}]},{"html_id":"fastx/Fastx/Fastq","path":"Fastx/Fastq.html","kind":"module","full_name":"Fastx::Fastq","name":"Fastq","abstract":false,"locations":[{"filename":"src/fastx/fastq.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L5"},{"filename":"src/fastx/fastq/reader.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L5"},{"filename":"src/fastx/fastq/writer.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L5"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx","kind":"module","full_name":"Fastx","name":"Fastx"},"class_methods":[{"html_id":"open(filename,mode=\"r\",&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"args_string":"(filename, mode = \"r\", &)","args_html":"(filename, mode = <span class=\"s\">&quot;r&quot;</span>, &)","location":{"filename":"src/fastx/fastq.cr","line_number":13,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L13"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"case mode\nwhen \"r\"\n  Reader.open(filename) do |reader|\n    yield reader\n  end\nwhen \"w\"\n  Writer.open(filename) do |writer|\n    yield writer\n  end\nelse\n  raise(ArgumentError.new(\"Invalid mode: #{mode}\"))\nend"},"external_var":false},{"html_id":"open(filename,mode=\"r\")-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"args_string":"(filename, mode = \"r\")","args_html":"(filename, mode = <span class=\"s\">&quot;r&quot;</span>)","location":{"filename":"src/fastx/fastq.cr","line_number":24,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L24"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"mode","default_value":"\"r\"","external_name":"mode","restriction":""}],"visibility":"Public","body":"case mode\nwhen \"r\"\n  Reader.new(filename)\nwhen \"w\"\n  Writer.new(filename)\nelse\n  raise(ArgumentError.new(\"Invalid mode: #{mode}\"))\nend"},"external_var":false}],"types":[{"html_id":"fastx/Fastx/Fastq/FIELD","path":"Fastx/Fastq/FIELD.html","kind":"enum","full_name":"Fastx::Fastq::FIELD","name":"FIELD","abstract":false,"ancestors":[{"html_id":"fastx/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"fastx/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"fastx/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/fastq.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L6"}],"repository_name":"fastx","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"IDENTIFIER","name":"IDENTIFIER","value":"0_u8"},{"id":"SEQUENCE","name":"SEQUENCE","value":"1_u8"},{"id":"PLUS","name":"PLUS","value":"2_u8"},{"id":"QUALITY","name":"QUALITY","value":"3_u8"}],"namespace":{"html_id":"fastx/Fastx/Fastq","kind":"module","full_name":"Fastx::Fastq","name":"Fastq"},"instance_methods":[{"html_id":"identifier?-instance-method","name":"identifier?","doc":"Returns `true` if this enum value equals `IDENTIFIER`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../Fastx/Fastq/FIELD.html#IDENTIFIER\">IDENTIFIER</a></code></p>","abstract":false,"location":{"filename":"src/fastx/fastq.cr","line_number":7,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L7"},"def":{"name":"identifier?","visibility":"Public","body":"self == IDENTIFIER"},"external_var":false},{"html_id":"plus?-instance-method","name":"plus?","doc":"Returns `true` if this enum value equals `PLUS`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../Fastx/Fastq/FIELD.html#PLUS\">PLUS</a></code></p>","abstract":false,"location":{"filename":"src/fastx/fastq.cr","line_number":9,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L9"},"def":{"name":"plus?","visibility":"Public","body":"self == PLUS"},"external_var":false},{"html_id":"quality?-instance-method","name":"quality?","doc":"Returns `true` if this enum value equals `QUALITY`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../Fastx/Fastq/FIELD.html#QUALITY\">QUALITY</a></code></p>","abstract":false,"location":{"filename":"src/fastx/fastq.cr","line_number":10,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L10"},"def":{"name":"quality?","visibility":"Public","body":"self == QUALITY"},"external_var":false},{"html_id":"sequence?-instance-method","name":"sequence?","doc":"Returns `true` if this enum value equals `SEQUENCE`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../../Fastx/Fastq/FIELD.html#SEQUENCE\">SEQUENCE</a></code></p>","abstract":false,"location":{"filename":"src/fastx/fastq.cr","line_number":8,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq.cr#L8"},"def":{"name":"sequence?","visibility":"Public","body":"self == SEQUENCE"},"external_var":false}]},{"html_id":"fastx/Fastx/Fastq/Reader","path":"Fastx/Fastq/Reader.html","kind":"class","full_name":"Fastx::Fastq::Reader","name":"Reader","abstract":false,"superclass":{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/fastq/reader.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L6"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx/Fastq","kind":"module","full_name":"Fastx::Fastq","name":"Fastq"},"class_methods":[{"html_id":"open(filename:String|Path,&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path, &)","args_html":"(filename : String | Path, &)","location":{"filename":"src/fastx/fastq/reader.cr","line_number":11,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L11"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"yields":1,"block_arity":1,"visibility":"Public","body":"begin\n  reader = self.new(filename)\n  yield reader\nensure\n  reader.try(&.close)\nend"},"external_var":false}],"constructors":[{"html_id":"new(filename:String|Path)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path)","args_html":"(filename : String | Path)","location":{"filename":"src/fastx/fastq/reader.cr","line_number":18,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L18"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"close-instance-method","name":"close","abstract":false,"location":{"filename":"src/fastx/fastq/reader.cr","line_number":79,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L79"},"def":{"name":"close","visibility":"Public","body":"@file.close"},"external_var":false},{"html_id":"closed?-instance-method","name":"closed?","abstract":false,"location":{"filename":"src/fastx/fastq/reader.cr","line_number":83,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L83"},"def":{"name":"closed?","visibility":"Public","body":"@file.closed?"},"external_var":false},{"html_id":"each(&)-instance-method","name":"each","abstract":false,"location":{"filename":"src/fastx/fastq/reader.cr","line_number":24,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/reader.cr#L24"},"def":{"name":"each","yields":3,"block_arity":3,"visibility":"Public","body":"file = @gzip ? Compress::Gzip::Reader.new(@file) : @file\nif file.nil?\n  return\nend\n\nidentifier = nil\nsequence = IO::Memory.new\nquality = IO::Memory.new\n\nnext_field = FIELD::IDENTIFIER\n\nfile.each_line.with_index do |line, idx|\n  case next_field\n  when FIELD::IDENTIFIER\n    if line.starts_with?(\"@\")\n    else\n      raise(InvalidFormatError.new(@filename, idx, line, \"Identifier line must start with '@'\"))\n    end\n\n    if identifier.nil?\n    else\n      yield(identifier, sequence, quality)\n    end\n\n    identifier = line[1..-1]\n\n\n\n    sequence.clear\n    quality.clear\n    next_field = FIELD::SEQUENCE\n  when FIELD::SEQUENCE\n    if line.ascii_only?\n    else\n      raise(InvalidCharacterError.new(@filename, identifier, sequence))\n    end\n    sequence << line\n    next_field = FIELD::PLUS\n  when FIELD::PLUS\n    if line.starts_with?(\"+\")\n    else\n      raise(InvalidFormatError.new(@filename, idx, line, \"Plus line must start with '+'\"))\n    end\n    next_field = FIELD::QUALITY\n  when FIELD::QUALITY\n    if line.ascii_only?\n    else\n      raise(InvalidCharacterError.new(@filename, identifier, sequence))\n    end\n    quality << line\n    next_field = FIELD::IDENTIFIER\n  end\nend\n\nif identifier.nil?\nelse\n  if identifier.nil?\n  else\n    yield(identifier, sequence, quality)\n  end\n  sequence.clear\n  quality.clear\nend\n\nif file.is_a?(Compress::Gzip::Reader)\n  file.close\nend\n"},"external_var":false}]},{"html_id":"fastx/Fastx/Fastq/Writer","path":"Fastx/Fastq/Writer.html","kind":"class","full_name":"Fastx::Fastq::Writer","name":"Writer","abstract":false,"superclass":{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/fastq/writer.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L6"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx/Fastq","kind":"module","full_name":"Fastx::Fastq","name":"Fastq"},"class_methods":[{"html_id":"open(filename:String|Path,&)-class-method","name":"open","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path, &)","args_html":"(filename : String | Path, &)","location":{"filename":"src/fastx/fastq/writer.cr","line_number":12,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L12"},"def":{"name":"open","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"yields":1,"block_arity":1,"visibility":"Public","body":"begin\n  writer = self.new(filename)\n  yield writer\nensure\n  writer.try(&.close)\nend"},"external_var":false}],"constructors":[{"html_id":"new(filename:String|Path)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"args_string":"(filename : String | Path)","args_html":"(filename : String | Path)","location":{"filename":"src/fastx/fastq/writer.cr","line_number":19,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L19"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":"String | Path"}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"close-instance-method","name":"close","abstract":false,"location":{"filename":"src/fastx/fastq/writer.cr","line_number":33,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L33"},"def":{"name":"close","visibility":"Public","body":"if @writer.is_a?(Compress::Gzip::Writer)\n  @writer.close\nend\n@file.close\n"},"external_var":false},{"html_id":"closed?-instance-method","name":"closed?","abstract":false,"location":{"filename":"src/fastx/fastq/writer.cr","line_number":40,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L40"},"def":{"name":"closed?","visibility":"Public","body":"@file.closed?"},"external_var":false},{"html_id":"write(identifier:String,sequence:String,quality:String)-instance-method","name":"write","abstract":false,"args":[{"name":"identifier","external_name":"identifier","restriction":"String"},{"name":"sequence","external_name":"sequence","restriction":"String"},{"name":"quality","external_name":"quality","restriction":"String"}],"args_string":"(identifier : String, sequence : String, quality : String)","args_html":"(identifier : String, sequence : String, quality : String)","location":{"filename":"src/fastx/fastq/writer.cr","line_number":26,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/fastq/writer.cr#L26"},"def":{"name":"write","args":[{"name":"identifier","external_name":"identifier","restriction":"String"},{"name":"sequence","external_name":"sequence","restriction":"String"},{"name":"quality","external_name":"quality","restriction":"String"}],"visibility":"Public","body":"@writer.puts(\"@#{identifier}\")\n@writer.puts(sequence)\n@writer.puts(\"+\")\n@writer.puts(quality)\n"},"external_var":false}]}]},{"html_id":"fastx/Fastx/FastxError","path":"Fastx/FastxError.html","kind":"class","full_name":"Fastx::FastxError","name":"FastxError","abstract":false,"superclass":{"html_id":"fastx/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"fastx/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/exceptions.cr","line_number":2,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L2"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"fastx/Fastx/InvalidCharacterError","kind":"class","full_name":"Fastx::InvalidCharacterError","name":"InvalidCharacterError"},{"html_id":"fastx/Fastx/InvalidFormatError","kind":"class","full_name":"Fastx::InvalidFormatError","name":"InvalidFormatError"}],"namespace":{"html_id":"fastx/Fastx","kind":"module","full_name":"Fastx","name":"Fastx"}},{"html_id":"fastx/Fastx/InvalidCharacterError","path":"Fastx/InvalidCharacterError.html","kind":"class","full_name":"Fastx::InvalidCharacterError","name":"InvalidCharacterError","abstract":false,"superclass":{"html_id":"fastx/Fastx/FastxError","kind":"class","full_name":"Fastx::FastxError","name":"FastxError"},"ancestors":[{"html_id":"fastx/Fastx/FastxError","kind":"class","full_name":"Fastx::FastxError","name":"FastxError"},{"html_id":"fastx/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/exceptions.cr","line_number":5,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L5"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx","kind":"module","full_name":"Fastx","name":"Fastx"},"constructors":[{"html_id":"new(filename,name,sequence)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"sequence","external_name":"sequence","restriction":""}],"args_string":"(filename, name, sequence)","args_html":"(filename, name, sequence)","location":{"filename":"src/fastx/exceptions.cr","line_number":6,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L6"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"sequence","external_name":"sequence","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename, name, sequence)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"fastx/Fastx/InvalidFormatError","path":"Fastx/InvalidFormatError.html","kind":"class","full_name":"Fastx::InvalidFormatError","name":"InvalidFormatError","abstract":false,"superclass":{"html_id":"fastx/Fastx/FastxError","kind":"class","full_name":"Fastx::FastxError","name":"FastxError"},"ancestors":[{"html_id":"fastx/Fastx/FastxError","kind":"class","full_name":"Fastx::FastxError","name":"FastxError"},{"html_id":"fastx/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"fastx/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"fastx/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fastx/exceptions.cr","line_number":16,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L16"}],"repository_name":"fastx","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"fastx/Fastx","kind":"module","full_name":"Fastx","name":"Fastx"},"constructors":[{"html_id":"new(filename,idx,line,message=nil)-class-method","name":"new","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"idx","external_name":"idx","restriction":""},{"name":"line","external_name":"line","restriction":""},{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"args_string":"(filename, idx, line, message = nil)","args_html":"(filename, idx, line, message = <span class=\"n\">nil</span>)","location":{"filename":"src/fastx/exceptions.cr","line_number":17,"url":"https://github.com/kojix2/fastx.cr/blob/8cfebe2fcf982122fe9a419026586587a9979a2a/src/fastx/exceptions.cr#L17"},"def":{"name":"new","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"idx","external_name":"idx","restriction":""},{"name":"line","external_name":"line","restriction":""},{"name":"message","default_value":"nil","external_name":"message","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(filename, idx, line, message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]}]}]}})